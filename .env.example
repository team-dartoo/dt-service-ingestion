# ============================================================
# Ingestion Service 환경 변수 템플릿
# ============================================================
# 이 파일을 복사하여 .env 파일을 생성하세요:
#   cp .env.example .env
#
# 주의: .env 파일은 Git에 커밋하지 마세요.
# ============================================================

# ============================================================
# Mock 모드 설정 (DART API Key 없이 테스트)
# ============================================================
# true: 가짜 공시 데이터 생성 (테스트용)
# false: 실제 DART API 사용 (API Key 필요)
MOCK_MODE=true

# ============================================================
# DART Open API 설정 (MOCK_MODE=false일 때 필요)
# ============================================================
# 금융감독원에서 발급받은 API Key (40자)
# 발급: https://opendart.fss.or.kr/ → API인증키 신청
# 승인까지 1-3일 소요
DART_API_KEY=your_40_character_dart_api_key_here
DART_TIMEOUT=30
DART_MAX_RETRIES=5

# ============================================================
# 폴링 설정
# ============================================================
# 폴링 간격 (초) - DART API 일일 20,000회 제한 고려
POLL_INTERVAL=60
# 특정 날짜만 폴링 (YYYYMMDD, 비워두면 오늘 날짜)
TARGET_DATE=
# 공시별 최대 재시도 횟수
MAX_FAIL=3

# ============================================================
# MinIO 설정
# ============================================================
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=your_minio_secret_key_here
MINIO_BUCKET=dart-disclosures
MINIO_SECURE=false

# ============================================================
# RabbitMQ 설정
# ============================================================
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=your_rabbitmq_password_here

# ============================================================
# 포트 설정
# ============================================================
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
HEALTH_PORT=8001

# ============================================================
# Disclosure Service 연동 설정
# ============================================================
# Disclosure Service URL (Docker 네트워크 내 컨테이너명)
DISCLOSURE_SERVICE_URL=http://disclosure-api:8000
# 요청 타임아웃 (초)
REQUEST_TIMEOUT=30
# 최대 재시도 횟수
MAX_RETRIES=3

# ============================================================
# Worker API Key (중요!)
# ============================================================
# Disclosure Service의 WORKER_API_KEY와 반드시 동일해야 합니다.
# 운영 환경에서는 강력한 랜덤 문자열로 변경하세요.
# 예: openssl rand -hex 32
WORKER_API_KEY=your_worker_api_key_here

# ============================================================
# 로깅 설정
# ============================================================
LOG_LEVEL=INFO

# ============================================================
# 헬스체크 설정
# ============================================================
HEALTH_ENABLED=true
